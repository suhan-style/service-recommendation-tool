<!DOCTYPE html>
<html lang="en">
<head>
   <title>ICICI Development Project</title>

    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta http-equiv='cache-control' content='no-cache'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
   <div class="container-fluid">
      <div class="row">
         <div class="col-12">
            <div class="logo">
               <img src="images/LOGO.png" alt="logo" />
            </div>
         </div>
      </div>
      <div class="row">
         <div class="col-12 px-0">
            <img src="images/GC_ICICI_Canada_Banner.jpg" alt="Banner" class="img-fluid w-100" />
         </div>
      </div>
   </div>
   <div id="APRT" class="container-fluid bg-light-gray">
      <div class="row pt-4">
         <div class="col-12">
            <div class="bg-red pd-left">
               <h1 class="text-white">Appropriate Product Recommendation Tool</h1>
            </div>
         </div>
      </div>

      <div class="row">
         <div class="col-12">
            <div class="pd-left py-3">
               <div class="form-check">
                  <input class="form-check-input" type="radio" name="flexRadioDefault" id="radioPage1" checked>
                  <label class="form-check-label" for="radioPage1">
                     I need help with Day-to-Day Banking
                  </label>
               </div>
            </div>
         </div>
      </div>

      <!-- Question 1 -->
      <div class="row pb-5">
         <div class="col-12">
            <div class="bg-orange pd-left mb-3">
               <h4 class="bold text-white d-flex-column-gap">
                  <span>1.</span>
                  <span>Which Option Best Describes You? <span class="font-normal">(Select any one)</span></span>
               </h4>
            </div>
            
            <div class="pd-left">
               <div class="form-check">
                  <input class="form-check-input a" type="radio" name="question_1" id="Q1_option1">
                  <label class="form-check-label" for="Q1_option1">
                     I'm a Student
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input b c" type="radio" name="question_1" id="Q1_option2">
                  <label class="form-check-label" for="Q1_option2">
                      I'm new to Canada (on PR/Work Permit)
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input a" type="radio" name="question_1" id="Q1_option3">
                  <label class="form-check-label" for="Q1_option3">
                      I'm a Senior
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input b c" type="radio" name="question_1" id="Q1_option4">
                  <label class="form-check-label" for="Q1_option4">
                      Neither of the above
                  </label>
               </div>
            </div>
         </div>
      </div>

      <!-- Question 2 -->
      <div class="row pb-5">
         <div class="col-12">
            <div class="bg-orange pd-left mb-3">
               <h4 class="bold text-white d-flex-column-gap">
                  <span>2.</span>
                  <span>How many estimated withdrawals (debit) transactions you wish to make from your account in a month <span class="font-normal">(Select any one)</span></span>
               </h4>
            </div>
            
            <div class="pd-left">
               <div class="form-check">
                  <input class="form-check-input a" type="radio" name="question_2" id="Q2_option1">
                  <label class="form-check-label" for="Q2_option1">
                     Maximum of 10 to 12 Withdrawals
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input b" type="radio" name="question_2" id="Q2_option2">
                  <label class="form-check-label" for="Q2_option2">
                      Maximum of 25 Withdrawals
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input c" type="radio" name="question_2" id="Q2_option3">
                  <label class="form-check-label" for="Q2_option3">
                      More than 25 Withdrawals
                  </label>
               </div>
            </div>
         </div>
      </div>

      <!-- Question 3 -->
      <div class="row pb-5">
         <div class="col-12">
            <div class="bg-orange pd-left mb-3">
               <h4 class="bold text-white d-flex-column-gap">
                  <span>3.</span>
                  <span>What do you need the account for? <span class="font-normal">Select any/all that apply to you:</span></span>
               </h4>
            </div>
            
            <div class="pd-left">
               <div class="form-check">
                  <input class="form-check-input b" type="checkbox" name="question_3" id="Q3_option1">
                  <label class="form-check-label" for="Q3_option1">
                     Send/Receive Money within Canada
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input a" type="checkbox" name="question_3" id="Q3_option2">
                  <label class="form-check-label" for="Q3_option2">
                     Pay Bills
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input a" type="checkbox" name="question_3" id="Q3_option3">
                  <label class="form-check-label" for="Q3_option3">
                     Make Cash withdrawals/Deposits
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input b c" type="checkbox" name="question_3" id="Q3_option4">
                  <label class="form-check-label" for="Q3_option4">
                     Issue Cheques
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input c" type="checkbox" name="question_3" id="Q3_option5">
                  <label class="form-check-label" for="Q3_option5">
                     Send/Receive Money outside Canada
                  </label>
               </div>
            </div>
         </div>
      </div>

      <!-- Question 4 -->
      <div class="row pb-5">
         <div class="col-12">
            <div class="bg-orange pd-left mb-3">
               <h4 class="bold text-white d-flex-column-gap">
                  <span>4.</span>
                  <span>How much daily closing balance you would maintain in your Chequing Account? <span class="font-normal">(Select any one)</span></span>
               </h4>
            </div>
            
            <div class="pd-left">
               <div class="form-check">
                  <input class="form-check-input a" type="radio" name="question_4" id="Q4_option1">
                  <label class="form-check-label" for="Q4_option1">
                     Less than $1,000
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input b" type="radio" name="question_4" id="Q4_option2">
                  <label class="form-check-label" for="Q4_option2">
                     $1,000 - $3,000
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input b" type="radio" name="question_4" id="Q4_option3">
                  <label class="form-check-label" for="Q4_option3">
                     $3,000 - $ 5,000
                  </label>
               </div>
               <div class="form-check">
                  <input class="form-check-input c" type="radio" name="question_4" id="Q4_option4">
                  <label class="form-check-label" for="Q4_option4">
                     More than $5,000
                  </label>
               </div>
            </div>
         </div>
      </div>

      <!-- Submit Button -->
      <div class="row pb-5">
         <div class="col-12">
            <div class="pd-left mb-3">
               <button type="button" class="btn btn-primary bold" id="btnSubmit">SUBMIT</button>
            </div>
         </div>
      </div>

      <div class="row">
         <div class="wrapper">
            <div><span>Basic Chequing : </span><span class="basic_chequing">0</span></div>
            <div><span>Hivalue Chequing : </span><span class="hivalue_chequing">0</span></div>
            <div><span>Hivalue Plus : </span><span class="hivalue_plus">0</span></div>
            <div><span>Greater Value : </span><span class="greater-value"></span></div>
         </div>
      </div>
   </div>

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
   <script>
      jQuery(function($) {
         $('#btnSubmit').click(function() {
            var basic_chequing = $('.form-check-input:checked').filter('.a').length;
            $('.basic_chequing').html(basic_chequing);
            // console.log("a : " + basic_chequing);

            var hivalue_chequing = $('.form-check-input:checked').filter('.b').length;
            $('.hivalue_chequing').html(hivalue_chequing);
            // console.log("b : " + hivalue_chequing);

            var hivalue_plus = $('.form-check-input:checked').filter('.c').length;
            $('.hivalue_plus').html(hivalue_plus);
            // console.log("c : " + hivalue_plus);


            // It will return KEY of Greater Value
            var obj = {
               'Basic Chequing' : basic_chequing,
               'Hivalue Chequing' : hivalue_chequing,
               'Hivalue Plus' : hivalue_plus
            };
            
            // const greater_key = Object.keys(obj).reduce((a, b) => obj[a] > obj[b] ? a : b);
            // $('.greater-value').html(greater_key);

            let arr = Object.values(obj);
            let max = Math.max(...arr);
            // console.log('Max value is: ' + max);

            function getKey(obj){
              const arr = [],
              storevalue = Object.keys(obj);
              for (var x in storevalue){
                if(obj[storevalue[x]] === max){
                  arr.push(storevalue[x]);
                }
              }
              return arr;
            }

            // console.log(getKey(obj).join("&"));
            $('.greater-value').html(getKey(obj).join(", "));

            var key = getKey(obj).join("&");

            const param = key.replace(/ /g, '_');
            
            // response redirect
            setTimeout(function() {
               window.location.href = `response.html?${param.toLowerCase()}`;
            },2000);
         });
      });
   </script>
   <script src="js/script.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
</body>
</html>